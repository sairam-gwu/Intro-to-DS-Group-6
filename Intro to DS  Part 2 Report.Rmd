---
title: "Video Game Sales and Performance Analysis - Group 6"
author's: "1. Sairam Venkatachalam 2. Amit Subedi 3. Sriram Sathwik Tippavaram 4.	Bala Krishna Reddy Ragannagari "
date: "`r Sys.Date()`"
output:  
    rmdformats::readthedown:
      toc_float: true
      toc_depth: 3
      number_sections: true
      code_folding: hide
      
      
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r init, include=F}
# The package "ezids" (EZ Intro to Data Science) includes some helper functions we developed for the course. 
# Some of the frequently used functions are loadPkg(), xkabledply(), xkablesummary(), uzscale(), etc.
# You will need to install it (once) from GitHub.
# library(devtools)
# devtools::install_github("physicsland/ezids")
# Then load the package in your R session.
library(ezids)
library(ggplot2)
library(dplyr)

setwd("C:/Users/saira/OneDrive/Documents/GitHub/Intro-to-DS-Group-6")

```

```{r}
games<-read.csv('Video games sales.csv')
str(games)

```

```{r}

games$Platform<-as.factor(games$Platform)
games$Year_of_Release<-as.factor(games$Year_of_Release)
games$Genre<-as.factor(games$Genre)
games$Publisher<-as.factor(games$Publisher)
games$Developer<-as.factor(games$Developer)
games$Rating<-as.factor(games$Rating)
str(games)
```


```{r}
games<-na.omit(games)
unique(games$Rating)
games$Rating <- ifelse( games$Rating== "", NA,games$Rating )
unique(games$Rating)
games<-subset(games,games$Rating!="NA")
games<-subset(games,games$Year_of_Release!="N/A")
nrow(games)

library(ezids)
games_final= outlierKD2(games,Global_Sales,rm=TRUE,hist=FALSE)
games_final<-na.omit(games_final)




```



# Introduction

The video game industry is a multi-billion dollar industry that is still expanding in terms of both influence and popularity. People of all ages and backgrounds love playing video games, and they have a significant impact on our culture and society.Using information that has been scraped from Metacritic, this study will look at video game performance and sales. Metacritic is an online platform that compiles reviews from multiple sources for video games, films, TV series, and music. We can spot trends and obtain insightful knowledge about the video game industry by examining Metacritic data. 


## Objective

This research project's goal is to analyze video game sales and performance data that was taken from Metacritic using exploratory data analysis (EDA) and hypothesis testing in order to identify patterns and trends in video game sales and performance. We aim to test hypotheses about the relationships between various variables, including release date, publisher, genre, metacritic scores, and platform. We also hope to learn about the elements that affect the success of video games and the video game business. 

## Data Source

The dataset used for this report was sourced through web scraping from Metacritic. It is important to note that certain observations are missing, as Metacritic covers only a subset of the gaming platforms. As a result, some games may not have complete information for all the variables. However, the dataset contains approximately 6,900 complete cases.

The dataset has information on the following attributes:

**Game Specific: **

Name: The name of the video game 

Genre: The genre of the video game 

Platform: The platform(s) on which the video game was released 

Developer: The developer of the video game 

Publisher: The publisher of the video game 

Year of Release: The year in which the video game was released 

**Scores: **

Metacritic User Score: The score given to the game by users. 

Metacritic Critic Score: The score given to the game by critics. 

**Sales: ** 

North America: The number of units sold in North America 

Europe: The number of units sold in Europe 

Japan: The number of units sold in Japan 

Global: The total number of units sold worldwide 


# Exploratory Data Analysis

## Variable Correlation

## Single Platform vs Multi Platform comparison

As part of our research questions, we wanted to analyze how games performed when they were targeted towards a specific platform vs when they are released across multiple platforms.


```{r}
grouped_by_platform <- split(games_final, games_final$Platform)
platform_summary <- lapply(grouped_by_platform, function(x) summary(x$Global_Sales))
boxplot(Global_Sales ~ Platform, data = games_final, main="Global Sales by Platform", xlab="Platform", ylab="Global Sales")


games_final <- games_final %>%
  group_by(Name) %>%
  mutate(Platform_Count = n())

single_platform_games <- filter(games_final, Platform_Count == 1)
multiple_platform_games <- filter(games_final, Platform_Count > 1)


average_sales_single_platform <- mean(single_platform_games$Global_Sales)
average_sales_multiple_platforms <- mean(multiple_platform_games$Global_Sales)

average_rating_single_platform <- mean(single_platform_games$Critic_Score, na.rm = TRUE)
average_rating_multiple_platforms <- mean(multiple_platform_games$Critic_Score, na.rm = TRUE)

cat("Average Sales - Single Platform Games:", average_sales_single_platform, "\n")
cat("Average Sales - Multiple Platform Games:", average_sales_multiple_platforms, "\n\n")

cat("Average Rating - Single Platform Games:", average_rating_single_platform, "\n")
cat("Average Rating - Multiple Platform Games:", average_rating_multiple_platforms, "\n")


t_test_result <- t.test(single_platform_games$Global_Sales, multiple_platform_games$Global_Sales)

# Extract p-value
p_value_t_test <- t_test_result$p.value

# Display p-value
cat("P-value (t-test):", p_value_t_test, "\n")


combined_data <- rbind(data.frame(Sales = single_platform_games$Global_Sales, Platform = "Single Platform"),
                       data.frame(Sales = multiple_platform_games$Global_Sales, Platform = "Multiple Platforms"))

# Global Sales

ggplot(combined_data, aes(x = Platform, y = Sales, fill = Platform)) +
  geom_violin(trim = FALSE, scale = "width", width = 0.7) +
  geom_boxplot(width = 0.1, fill = "white", color = "black", alpha = 0.8) +
  theme_minimal() +
  labs(title = "Comparison of Global Sales for single platform vs multi platform games",
       x = "Platform Count",
       y = "Global Sales (Millions of Copies)") +
  theme(legend.position = "none")

```

As the plots above suggest, the global sales for games releasing on multiple platforms is higher than those targetted towards single platforms. This difference is statistically significant.



```{r}
# Critic Score
combined_data <- rbind(data.frame(Score = single_platform_games$Critic_Score, Platform = "Single Platform"),
                       data.frame(Score = multiple_platform_games$Critic_Score, Platform = "Multiple Platforms"))


ggplot(combined_data, aes(x = Platform, y = Score, fill = Platform)) +
  geom_violin(trim = FALSE, scale = "width", width = 0.7) +
  geom_boxplot(width = 0.1, fill = "white", color = "black", alpha = 0.8) +
  theme_minimal() +
  labs(title = "Comparison of Critic Scores",
       x = "Platform Count",
       y = "Critic Score") +
  theme(legend.position = "none")







# For single platform games

platform_occurrence <- single_platform_games %>%
  group_by(Platform) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count))

ggplot(platform_occurrence, aes(x = reorder(Platform, -Count), y = Count)) +
  geom_bar(stat = "identity", fill = "skyblue", color = "black") +
  labs(title = "Occurrence of Platforms for Single-Platform Games",
       x = "Platform",
       y = "Count") +
  theme_minimal()


# For multi platform games

platform_occurrence_multi <- multiple_platform_games %>%
  group_by(Platform) %>%
  summarise(Count = n()) %>%
  arrange(desc(Count))

ggplot(platform_occurrence_multi, aes(x = reorder(Platform, -Count), y = Count)) +
  geom_bar(stat = "identity", fill = "lightcoral", color = "black") +
  labs(title = "Occurrence of Platforms for Multi-Platform Games",
       x = "Platform",
       y = "Count") +
  theme_minimal()

platform_difference <- merge(platform_occurrence, platform_occurrence_multi, by = "Platform", suffixes = c("_Single", "_Multi"))
platform_difference$Difference <- platform_difference$Count_Multi - platform_difference$Count_Single

ggplot(platform_difference, aes(x = reorder(Platform, -Difference), y = Difference)) +
  geom_bar(stat = "identity", fill = "lightgreen", color = "black") +
  labs(title = "Difference in Platform Occurrence between Multi and Single-Platform Games",
       x = "Platform",
       y = "Difference in Games Sold") +
  theme_minimal()
```

## Genre and Developer vs Global Sales

We aimed to explore the significant factors influencing game sales, particularly focusing on the impact of the game's genre and developer. To analyze this, we generated a scatter plot visualizing the global sales of the top 20 developers, with each point color-coded based on the corresponding game's genre.

```{r}
data=games_final

top_developers <- data %>%
  group_by(Developer) %>%
  summarise(Total_Sales = sum(Global_Sales, na.rm = TRUE)) %>%
  top_n(20, Total_Sales) %>%
  pull(Developer)

filtered_data <- data %>%
  filter(Developer %in% top_developers)

ggplot(filtered_data, aes(x = Developer, y = Global_Sales, color = Genre)) +
  geom_point(position = position_jitter(width = 0.3, height = 0), alpha = 0.7) +
  labs(title = "Global Sales for Top 20 Developers",
       x = "Developer",
       y = "Global Sales") +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) 



```

This reveals an interesting pattern. Some developers specialize in games from a specific genre such as Electronic Arts (EA) in sports and Codemasters in racing. These Genres tend to be the best selling games for these developers. On the other hand, there are some developers like Namco, Nintendo and Capcom that have spread their wings across all kinds of games with great success. Altogether, the genres of sports, action and racing seem to stand out amongst others as the best performing genres. The plot below confirms the most popular Genres by global sales

```{r}


data$Genre <- factor(data$Genre, levels = names(sort(tapply(data$Global_Sales, data$Genre, sum), decreasing = FALSE)))

ggplot(data, aes(x = Genre, y = Global_Sales)) +
  geom_bar(stat = "identity", fill = "lightcoral") +
  coord_flip() +
  labs(title = "Global Sales by Genre",
       x = "Genre",
       y = "Global Sales") + theme_minimal()




```


## Yearly Sales by Region and Genre

Continuing our investigation, we looked to dive into the trends of annual video game sales across different regions. Our objective is to unravel the dynamic patterns and shifts in the popularity of video game genres over time. By visualizing the data on a yearly basis, we aim to discern evolving consumer preferences, identify emerging trends, and gain insights into the changing landscape of the gaming industry. This exploration will provide valuable context for understanding the trajectory of video game sales in distinct regions and shed light on the trends that have shaped the market's evolution.

```{r}



```


# Model Building

With the comprehensive exploration of key elements influencing the success of video games, we are now ready to start the pivotal phase of model building. We aim to harness the power of machine learning models studies during our course to capture these trends and forecast the success of video games, focusing specifically on their global sales.rich insights gleaned from our exploratory analysis. 

## The Regression problem

Our initial approach involves developing predictive models that quantify global sales as a numeric value.

### Linear Model




## The Classification problem

As we discovered, predicting the global sales as a numeric value is a challenging task due to the volatility and unpredictability of sales. While there are discernbale patterns on what makes a good game, the exact fluctuations in sales as a result of it are difficult to capture. Hence we move to a secondary approach.

**Classifying Games as Hit or Miss**

The second approach involves adding a columns called 'Hit' which classifies the game as a Hit or a Miss based on whether it lies in the top 25 percentile of games by global sales or not. This was decided based on the popularity of quantiles especially in boxplots in determining the upper echelon of video games.

### Logistic Model

### Decision Trees

## References

-Chen, H., & Hu, Y. (2020). The impact of marketing campaigns on video game sales: A meta-analysis. Journal of Marketing, 84(4), 124-143. https://www.sciencedirect.com/science/article/pii/S0148296320304161

-Lin, Y., & Wu, C. (2021). The impact of player demographics on video game sales: A segmentation analysis. Computers in Human Behavior, 118, 106653. https://www.researchgate.net/publication/31977403_Segmentation_of_the_games_market_using_multivariate_analysis

-Duan, W., & Zhang, J. (2019). The impact of critic reviews on video game sales: Evidence from a large-scale panel dataset. Journal of Business Research, 104, 70-80. https://pubsonline.informs.org/doi/abs/10.1287/mnsc.2023.4754

-[OIS] Diez et al. (2015), OpenIntro Statistics.
https://leanpub.com/os 
